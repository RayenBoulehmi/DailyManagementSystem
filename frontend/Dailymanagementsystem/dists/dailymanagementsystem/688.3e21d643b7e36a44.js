"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[688],{9688:(R,p,n)=>{n.r(p),n.d(p,{NotificationModule:()=>J});var s=n(9808),f=n(2382),d=n(2529),Z=n(655),u=n(9783),t=n(1223),h=n(1726),y=n(6122),T=n(1190),c=n(4255),m=n(845),g=n(1424);const v=["filter"];function O(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),r=t.MAs(6);return t.KtG(a.clear(r))}),t.qZA(),t.TgZ(2,"span",12),t._UZ(3,"i",13),t.TgZ(4,"input",14,15),t.NdJ("input",function(a){t.CHM(e);const r=t.oxw(),Q=t.MAs(6);return t.KtG(r.onGlobalFilter(Q,a))}),t.qZA()()()}}function U(i,l){1&i&&(t.TgZ(0,"tr")(1,"th")(2,"div",16),t._uU(3," Day "),t._UZ(4,"p-columnFilter",17),t.qZA()(),t.TgZ(5,"th")(6,"div",16),t._uU(7," ISOBJEFFBRUT "),t._UZ(8,"p-columnFilter",18),t.qZA()(),t.TgZ(9,"th")(10,"div",16),t._uU(11," ISOBJEFFNET "),t._UZ(12,"p-columnFilter",19),t.qZA()(),t.TgZ(13,"th")(14,"div",16),t._uU(15," IsAbs "),t._UZ(16,"p-columnFilter",20),t.qZA()(),t.TgZ(17,"th")(18,"div",16),t._uU(19," IsPolyvalence "),t._UZ(20,"p-columnFilter",21),t.qZA()(),t.TgZ(21,"th")(22,"div",16),t._uU(23," iSObjOTD "),t._UZ(24,"p-columnFilter",22),t.qZA()(),t.TgZ(25,"th")(26,"div",16),t._uU(27," iSObjOTP "),t._UZ(28,"p-columnFilter",23),t.qZA()(),t.TgZ(29,"th")(30,"div",16),t._uU(31," isObjDPU "),t._UZ(32,"p-columnFilter",24),t.qZA()(),t.TgZ(33,"th")(34,"div",16),t._uU(35," isObjNQExt "),t._UZ(36,"p-columnFilter",25),t.qZA()(),t.TgZ(37,"th")(38,"div",16),t._uU(39," isObjNQInt "),t._UZ(40,"p-columnFilter",26),t.qZA()(),t.TgZ(41,"th")(42,"div",16),t._uU(43," isObjPPMClient "),t._UZ(44,"p-columnFilter",27),t.qZA()(),t.TgZ(45,"th")(46,"div",16),t._uU(47," isObjPPMInt "),t._UZ(48,"p-columnFilter",27),t.qZA()(),t.TgZ(49,"th")(50,"div",16),t._uU(51," Status "),t.qZA()()())}const b=function(i){return{"background-color":i,color:"white",padding:"5px"}};function A(i,l){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.qZA(),t.TgZ(26,"td",28),t._uU(27),t.qZA()()),2&i){const e=l.$implicit,o=t.oxw();t.xp6(2),t.Oqu(t.xi3(3,14,e.date,"MM/dd/yyyy")),t.xp6(3),t.Oqu(e.ISOBJEFFBRUT),t.xp6(2),t.Oqu(e.ISOBJEFFNET),t.xp6(2),t.Oqu(e.IsAbs),t.xp6(2),t.Oqu(e.IsPolyvalence),t.xp6(2),t.Oqu(e.iSObjOTD),t.xp6(2),t.Oqu(e.iSObjOTP),t.xp6(2),t.Oqu(e.isObjDPU),t.xp6(2),t.Oqu(e.isObjNQExt),t.xp6(2),t.Oqu(e.isObjNQInt),t.xp6(2),t.Oqu(e.isObjPPMClient),t.xp6(2),t.Oqu(e.isObjPPMInt),t.xp6(1),t.Q6J("ngStyle",t.VKq(17,b,o.getStatusColor(e.TotalObjectives))),t.xp6(1),t.hij(" ",o.getStatusLabel(e.TotalObjectives)," ")}}function N(i,l){1&i&&(t.TgZ(0,"tr")(1,"td",29),t._uU(2,"No data found."),t.qZA()())}function x(i,l){1&i&&(t.TgZ(0,"tr")(1,"td",29),t._uU(2,"Loading data. Please wait..."),t.qZA()())}const S=function(){return["date","isObjDPU","isObjNQInt","isObjPPMClient"]};let F=(()=>{class i{constructor(e,o,a){this.customerService=e,this.productService=o,this.notificationService=a,this.statuses=[],this.products=[],this.expandedRows={},this.activityValues=[0,100],this.isExpanded=!1,this.idFrozen=!1,this.loading=!0,this.notificationData=[],this.totalData=null}ngOnInit(){this.getNotification(),this.statuses=[{label:"Unqualified",value:"unqualified"},{label:"Qualified",value:"qualified"},{label:"New",value:"new"},{label:"Negotiation",value:"negotiation"},{label:"Renewal",value:"renewal"},{label:"Proposal",value:"proposal"}]}getStatusColor(e){return e<5?"#28a745":e>=5&&e<=10?"#fd7e14":e>10&&e<=20?"#dc3545":"#8b0000"}getStatusLabel(e){return e<5?"Normal":e>=5&&e<=10?"Warning":e>10&&e<=20?"Danger":"Very Dangerous"}getNotification(){this.notificationService.notification().subscribe(e=>{const{TOTALS:o}=e,a=(0,Z._T)(e,["TOTALS"]);this.notificationData=Object.keys(a).map(r=>Object.assign({date:r},a[r])),this.totalData=o,this.loading=!1,console.log("Daily Data:",this.notificationData),console.log("Total Data:",this.totalData)})}onGlobalFilter(e,o){e.filterGlobal(o.target.value,"contains")}clear(e){e.clear(),this.filter.nativeElement.value=""}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.v),t.Y36(y.M),t.Y36(T.D))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(e,o){if(1&e&&t.Gf(v,5),2&e){let a;t.iGM(a=t.CRH())&&(o.filter=a.first)}},features:[t._Bn([u.ez,u.YP])],decls:12,vars:7,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["dataKey","date","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rows","loading","rowHover","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search Keyword",1,"w-full",3,"input"],["filter",""],[1,"flex","justify-content-between","align-items-center"],["type","date","field","date","display","menu","placeholder","mm/dd/yyyy"],["type","numeric","field","ISOBJEFFBRUT","display","menu","placeholder","Search by ISOBJEFFBRUT"],["type","numeric","field","ISOBJEFFNET","display","menu","placeholder","Search by ISOBJEFFNET"],["type","numeric","field","IsAbs","display","menu","placeholder","Search by Absence"],["type","numeric","field","IsPolyvalence","display","menu","placeholder","Search by Polyvalence"],["type","numeric","field","iSObjOTD","display","menu","placeholder","Search by OTD"],["type","numeric","field","iSObjOTP","display","menu","placeholder","Search by OTP"],["type","numeric","field","isObjDPU","display","menu","placeholder","Search by DPU"],["type","numeric","field","isObjNQExt","display","menu","placeholder","Search by External Quality"],["type","numeric","field","isObjNQInt","display","menu","placeholder","Search by Internal Quality"],["type","numeric","field","isObjPPMClient","display","menu","placeholder","Search by PPM Client"],[3,"ngStyle"],["colspan","12"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),t._uU(4,"Daily Objectif"),t.qZA(),t.TgZ(5,"p-table",3,4),t.YNc(7,O,6,0,"ng-template",5),t.YNc(8,U,52,0,"ng-template",6),t.YNc(9,A,28,19,"ng-template",7),t.YNc(10,N,3,0,"ng-template",8),t.YNc(11,x,3,0,"ng-template",9),t.qZA()()()()),2&e&&(t.xp6(5),t.Q6J("value",o.notificationData)("rows",10)("loading",o.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",t.DdM(6,S)))},dependencies:[s.PC,c.iA,u.jx,c.xl,m.Hq,g.o,s.uU],styles:["[_nghost-%COMP%]     .p-frozen-column{font-weight:700}[_nghost-%COMP%]     .p-datatable-frozen-tbody{font-weight:700}[_nghost-%COMP%]     .p-progressbar{height:.5rem}"]}),i})(),P=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.Bz.forChild([{path:"",component:F}]),d.Bz]}),i})();var C=n(2841),q=n(5787),j=n(4970),D=n(4036),M=n(8185),I=n(7773),E=n(4776),B=n(8018);let J=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[s.ez,P,f.u5,c.U$,B.Xt,m.hJ,E.JH,g.j,C.KZ,q.T,j.q4,D.kW,M.q,I.EV]}),i})()}}]);